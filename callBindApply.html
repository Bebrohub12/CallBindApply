<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Call Bind Apply</title>
</head>
<body>
    <div id="wrapper"></div>

    <script>


        // call(), bind(), apply()


        // bind creates a new function with a specific this value and, optionally, pre-set arguments. It's useful when you want to create a modified version of a function without immediately invoking it.

        // call immediately invokes a function with a specified this value and individual arguments. It's used when you want to call a function and pass arguments individually.

        // apply immediately invokes a function with a specified this value and arguments passed as an array or array-like object. It's used when you want to call a function and pass arguments as an array.


        
        const person = {
            name: "Pradeep",
            greet: function(quantity) {
                // console.log(this.name +" ne liya " + this.quantity);
                console.log(`${this.name} ne liya ${quantity}`); //TEMPLATE LITERALS
            }
        };
        const anotherPerson = {
            name: "Sachin"
        };
        const anotherGreet = person.greet;
        
        // const boundGreet = greet.bind(person);

        const boundGreet = anotherGreet.bind(anotherPerson, "30ml")
        
        anotherGreet.call(person, "30ml");
        anotherGreet.apply(person, ["30ml"]);
        boundGreet();
        







        function calculateTotal(discount) {
            const total = this.prices.reduce((sum, price) => sum + price, 0);
            return total * (1 - discount);
        }

        const cart = {
            prices: [20, 30, 50, 80, 101]
        };

        const discount = 0.1;

        const totalPrice = calculateTotal.call(cart, discount);

        console.log("Total price after discount: " + totalPrice);

    </script>
</body>
</html>